(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6919],{95449:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(24246),i=n(66886),o=n.n(i),s=n(24196),a=n.n(s);function l(e){var t,n,r=[];return e.bold&&r.push(a().bold),e.italic&&r.push(a().italic),e.strikethrough&&r.push(a().strikethrough),e.underline&&r.push(a().underline),e.foregroundColor&&(t=e.foregroundColor),e.backgroundColor&&(n=e.backgroundColor,/^bg[A-Z]/.test(n)&&(n=n.substring(2).toLowerCase())),e.inverse?(t&&r.push(a()["bg-".concat(t)]),n&&r.push(a()["fg-".concat(n)])):(t&&r.push(a()["fg-".concat(t)]),n&&r.push(a()["bg-".concat(n)])),r.join(" ")||void 0}function c(e){var t=e.children,n=o()(t).chunks.filter((function(e){return"text"===e.type})).map((function(e,t){return(0,r.jsx)("span",{className:l(e.style),children:e.value},t)}));return(0,r.jsx)(r.Fragment,{children:n})}},4317:function(e,t,n){"use strict";n.d(t,{u3:function(){return S},e3:function(){return _},Vm:function(){return Z},ZP:function(){return k}});var r=n(27378),i=n(24246),o=n(67105),s=n(98502),a=n(79892),l=n(38944),c=n(48245),d=n(95449),u=n(58917),p=n(22968);function h(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=n(13788),m=n.n(f),b=function(e){var t,n=e.proxy,r=e.created,s=e.showDetails,a=e.text,g=e.info,f=e.statusCode,b=e.requestId,v=e.lite,x=e.error,y=e.warning,j=e.embedded,w=function(e){if(!e)return{};var t,n,r=[],i=h(e.split("\n"));try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.startsWith("REPORT "))t=o.slice(7);else if(o.startsWith("START ")||o.startsWith("END "));else{var s=o.match(/INFO[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]([\s\S]*)/g);s?r.push.apply(r,(0,p.Z)(s.map((function(e){return e.replace(/^INFO\s/gm,"").replace(/END RequestId.*/gm,"").replace(/ {4}/g,"\n    ").replace(/\x09INFO\x09/g,"\n")})))):r.push(o.replace(/END RequestId.*/gm,""))}}}catch(g){i.e(g)}finally{i.f()}if(!t)return{};var a=new Map(t.split("\t").map((function(e){return e.split(": ")}))),l=a.get("Duration")||"Unknown",c=a.get("Max Memory Used")||null,d=a.get("Init Duration")||null,u=r.filter((function(e){return e.trim().length>0}));return{duration:l,initDuration:d,memoryUsed:c,info:u.length>0?u:null}}(a),O=w.duration,Z=w.initDuration,_=w.memoryUsed,S=w.info,k="v1logs"===(null===g||void 0===g?void 0:g.type);return(0,i.jsx)("div",{className:(0,l.Z)(m()["log-row"],(t={},(0,o.Z)(t,m().error,x),(0,o.Z)(t,m().warning,y),(0,o.Z)(t,m().lite,v),(0,o.Z)(t,m().embedded,j),t)),style:k?{padding:"var(--geist-gap-half) 0"}:{},children:k?(0,i.jsxs)("div",{className:m().request,children:[(0,i.jsxs)("aside",{className:m().timestamp,style:k?{paddingLeft:0}:{},children:[(0,i.jsx)("span",{children:(0,c.Z)(new Date(r),"HH:mm:ss")}),!j&&(0,i.jsx)("span",{className:"geist-hide-on-mobile",children:(0,c.Z)(new Date(r),".SSS")}),"\xa0\xa0"]}),(0,i.jsx)("div",{className:m()["info-content"],style:k?{marginTop:0}:{},children:(0,i.jsx)("span",{children:(0,i.jsx)(d.Z,{children:a})},"".concat(a))})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:m().request,children:[(0,i.jsxs)("main",{className:m().main,children:["[",(null===n||void 0===n?void 0:n.method)||"UNKNOWN","] ",(null===n||void 0===n?void 0:n.path)||"Unknown path"]}),(0,i.jsx)("aside",{className:m().timestamp,children:(0,c.Z)(new Date(r),"HH:mm:ss:SS")})]}),(0,i.jsxs)("section",{className:m().section,children:[s&&(0,i.jsxs)("div",{className:m().details,children:[(0,i.jsxs)(u.Z,{row:!0,top:!0,style:{paddingTop:"var(--geist-gap-half)"},children:[(0,i.jsx)("span",{className:m()["details-type"],children:"Status:"}),(0,i.jsx)("span",{className:m()["details-content"],children:f||"N/A"})]}),(0,i.jsxs)(u.Z,{row:!0,top:!0,style:{paddingTop:"var(--geist-gap-quarter)"},children:[(0,i.jsx)("span",{className:m()["details-type"],children:"Duration:"}),(0,i.jsx)("span",{className:m()["details-content"],children:O||"N/A"})]}),(0,i.jsxs)(u.Z,{row:!0,top:!0,style:{paddingTop:"var(--geist-gap-quarter)"},children:[(0,i.jsxs)("span",{className:m()["details-type"],children:["Init Duration:"," "]}),(0,i.jsx)("span",{className:m()["details-content"],children:Z||"N/A"})]}),(0,i.jsxs)(u.Z,{row:!0,top:!0,style:{paddingTop:"var(--geist-gap-quarter)"},children:[(0,i.jsx)("span",{className:m()["details-type"],children:"Memory Used:"}),(0,i.jsx)("span",{className:m()["details-content"],children:_||"N/A"})]}),(0,i.jsxs)(u.Z,{row:!0,top:!0,style:{paddingTop:"var(--geist-gap-quarter)"},children:[(0,i.jsx)("span",{className:m()["details-type"],children:"ID:"}),(0,i.jsx)("span",{className:m()["details-content"],children:b||"N/A"})]}),(0,i.jsxs)(u.Z,{row:!0,top:!0,style:{paddingTop:"var(--geist-gap-quarter)"},children:[(0,i.jsx)("span",{className:m()["details-type"],children:"User Agent:"}),(0,i.jsx)("span",{className:m()["details-content"],children:(null===n||void 0===n?void 0:n.userAgent)||"N/A"})]})]}),S&&S.length&&(0,i.jsx)("div",{className:m()["info-content"],children:S.map((function(e,t){return(0,i.jsx)("span",{children:(0,i.jsx)(d.Z,{children:e})},"".concat(e,"-").concat(t))}))})]})]})})},v=n(6882),x=n(36083),y=n(2604),j=n(46121);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=function(e){var t=e.width,n=e.height,r=(0,s.Z)(e,["width","height"]);return(0,i.jsx)(j.Z,O({width:t,height:n||14,style:{marginBottom:0}},r))},_=function(e){var t=e.right,n=e.spacerWidth;(0,s.Z)(e,["right","spacerWidth"]);return(0,i.jsxs)(u.Z,{row:!0,style:{marginBottom:10},children:[(0,i.jsx)("div",{style:{width:100},children:(0,i.jsx)(Z,{width:100,height:16})}),(0,i.jsx)(y.L,{y:0,x:n}),(0,i.jsx)(Z,{width:t,height:16})]})},S=function(e){var t=e.margin;return(0,i.jsxs)("div",{className:"logs-loading",style:{marginLeft:t},children:[(0,i.jsx)(_,{spacerWidth:1.4,right:190}),(0,i.jsx)(_,{spacerWidth:1.4,right:70}),(0,i.jsx)(_,{spacerWidth:1.4,right:130}),(0,i.jsx)(_,{spacerWidth:1.4,right:180}),(0,i.jsx)(_,{spacerWidth:1.4,right:85}),(0,i.jsx)(_,{spacerWidth:1.4,right:170}),(0,i.jsx)(_,{spacerWidth:1.4,right:190})]})},k=function(e){var t=e.showDetails,n=e.logs,o=e.error,s=e.paused,c=e.activeTab,d=e.autoHeight,p=e.deploymentReady,h=e.deploymentQueued,g=e.embedded,f=(0,r.useState)(null),m=f[0],j=f[1];(0,r.useEffect)((function(){var e=function(){j(navigator.onLine)};return null===m&&e(),window.addEventListener("online",e),window.addEventListener("offline",e),function(){window.removeEventListener("online",e),window.removeEventListener("offline",e)}}));var w=(0,r.useMemo)((function(){return!m&&"all-requests"===c}),[m,c]);return(0,i.jsxs)(u.Z,{children:[(0,i.jsx)("div",{className:"jsx-2416226026 "+((0,l.Z)("logs-wrapper",{"auto-height":d,"errors-tab":"errors"===c&&(null===n||void 0===n?void 0:n.length)>0,"functions-building":!p,embedded:g})||""),children:(0,i.jsx)("div",{className:"jsx-2416226026 logs",children:!w&&n&&n.length?(0,i.jsx)("div",{className:"jsx-2416226026 logs-table",children:n.map((function(e){var n,i,o;return"deployment-state"===e.type?null:e.text&&e.text.length>0&&"\n"!==e.text&&("output"===(null===(n=e.info)||void 0===n?void 0:n.type)||"build"===(null===(i=e.info)||void 0===i?void 0:i.type)||"v1logs"===(null===(o=e.info)||void 0===o?void 0:o.type))?(0,r.createElement)(b,O(O({},e),{},{showDetails:t,paused:s,key:e.id,lite:g,embedded:g})):null}))}):o||w?(0,i.jsxs)(u.Z,{center:!0,style:{marginTop:40},children:[(0,i.jsx)(x.Z,{size:28}),(0,i.jsx)(y.L,{}),(0,i.jsx)(v.ZP,{small:!0,children:"Waiting for connection\u2026"})]}):(0,i.jsxs)(u.Z,{className:"waiting",children:[(0,i.jsx)(v.ZP,{small:!0,children:h?(0,i.jsxs)(u.Z,{center:!0,style:{marginTop:40},children:[(0,i.jsx)(x.Z,{size:28}),(0,i.jsx)(y.L,{}),(0,i.jsx)(v.ZP,{small:!0,children:"Queued\u2026"})]}):g?(0,i.jsx)(S,{}):null}),p?(0,i.jsxs)(u.Z,{center:!0,style:{marginTop:40},children:[(0,i.jsx)(x.Z,{size:28}),(0,i.jsx)(y.L,{}),(0,i.jsx)(v.ZP,{small:!0,children:"Awaiting new requests\u2026"})]}):null,!p&&!h&&(0,i.jsxs)(u.Z,{center:!0,style:{marginTop:40},children:[(0,i.jsx)(x.Z,{size:28}),(0,i.jsx)(y.L,{}),(0,i.jsx)(v.ZP,{small:!0,children:"Building\u2026"})]})]})})}),(0,i.jsx)(a.default,{id:"2416226026",children:[".logs-wrapper.jsx-2416226026{border-bottom:1px solid var(--accents-2);padding:calc(var(--geist-gap) * 1.2) 0;padding-top:0;padding-bottom:0;}",".logs-wrapper.jsx-2416226026:not(.embedded){background:var(--accents-1);min-height:80vh;}",".logs-wrapper.auto-height.jsx-2416226026{height:auto;min-height:80vh;}",".logs-wrapper.build.jsx-2416226026{padding-top:calc(var(--geist-gap) * 1.2);padding-bottom:calc(var(--geist-gap) * 1.2);}",".logs-wrapper.jsx-2416226026 .logs-table.jsx-2416226026{font-family:var(--font-mono);width:100%;font-size:14px;line-height:16px;}",".logs-wrapper.embedded.jsx-2416226026{padding:var(--geist-gap) 0;border-bottom:0;}",".errors-tab.jsx-2416226026{background-color:#f1d5d6;border-bottom:0;}",".dark-theme .errors-tab.jsx-2416226026{background-color:unset;}",".logs.jsx-2416226026{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".error.jsx-2416226026{margin-bottom:10px;font-size:12px;text-align:center;color:var(--geist-error);padding-top:15px;padding-bottom:15px;}",".traffic-logs-warning.jsx-2416226026{position:fixed;left:0;right:0;margin-top:-10px;background:rgba(0,0,0,0.8);padding:5px;text-transform:uppercase;font-size:12px;color:#fff;font-weight:bold;text-align:center;}",".controls-right .button.icon-color{height:32px;text-transform:unset;min-width:170px;}",".controls-right .button.icon-color .icon{left:18px;}",".controls-right .button .text{font-size:12px;line-height:1;right:-9px;}",".controls-right .button.disabled .text{color:var(--accents-2);}",".controls-left .select{width:250px;max-width:250px;}",".waiting{width:var(--geist-page-width-with-margin);margin:auto;padding:var(--geist-gap);padding-top:0;}",".auto-height.jsx-2416226026 .waiting{padding-top:0;}",".functions-building.jsx-2416226026{border-bottom:0;}","button.jsx-2416226026{border:0;background:0;padding:0;font-size:14px;line-height:41px;cursor:pointer;outline:0;width:100%;height:100%;text-align:left;}","@media (max-width:832px){.controls-left .select{width:170px;max-width:170px;min-width:170px;}}","@media (max-width:600px){.controls-left{width:240px;-webkit-flex:initial !important;-ms-flex:initial !important;flex:initial !important;}}"]})]})}},98464:function(e,t,n){"use strict";n.d(t,{Z:function(){return ve}});var r=n(24246),i=n(22968),o=n(88742),s=n.n(o),a=n(40505),l=n(83101),c=n(76982),d=n(55395),u=n(9968),p=n(39183),h=n(3184),g=n(67105),f=n(27378),m=n(73676),b=n(86677),v=n(72047),x=n.n(v),y=n(48245),j=n(61393),w=n.n(j),O=n(16843),Z=n(79589),_=n.n(Z),S=n(38944),k=n(80360),P=n.n(k),L=n(66471),D=n.n(L),N=n(61659),C=n(98438),T=n.n(C),E=n(22282);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=n(27061).env.NEXT_PUBLIC_API_URL||"https://".concat(E.pV);var W=n(93632),B=n(55888),I=n(97165),M=n(35342),q=n(47365),H=n(52653),U=n(58917),F=n(2604),K=n(6882),Q=n(79182),Y=n(51113),V=n(12951),G=n.n(V),J=n(60189),X=n(79892),$=n(95449),ee=n(13788),te=n.n(ee),ne=function(e){e.proxy;var t,n=e.created,i=e.text,o=(e.info,e.isBuild,e.lite),s=e.error,a=e.warning,l=e.embedded,c=e.noTimestamp,d=e.margin;return(0,r.jsxs)("tr",{className:(0,S.Z)(te()["log-row"],te().build,(t={},(0,g.Z)(t,te().error,s),(0,g.Z)(t,te().warning,a),(0,g.Z)(t,te().lite,o),(0,g.Z)(t,te().embedded,l),(0,g.Z)(t,te().margin,d),t)),children:[(0,r.jsx)("td",{className:(0,S.Z)(te().timestamp,(0,g.Z)({},te().noTimestamp,c)),children:!c&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:(0,y.Z)(new Date(n),"HH:mm:ss")}),!l&&(0,r.jsx)("span",{className:"geist-hide-on-mobile",children:(0,y.Z)(new Date(n),".SSS")}),!l&&(0,r.jsx)(r.Fragment,{children:"\xa0\xa0"})]})}),(0,r.jsx)("td",{children:(0,r.jsx)("span",{className:(0,S.Z)(te().td,(0,g.Z)({},te().noTimestamp,c)),children:(0,r.jsx)($.Z,{children:i})},"".concat(i))})]})},re=n(36083),ie=n(4317);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=function(e){var t=e.logs,n=e.error,i=e.autoHeight,o=e.isBuildLoading,s=(e.deploymentReady,e.deploymentQueued),a=e.embedded,l=(0,f.useState)(null),c=l[0],d=l[1];(0,f.useEffect)((function(){var e=function(){d(navigator.onLine)};return null===c&&e(),window.addEventListener("online",e),window.addEventListener("offline",e),function(){window.removeEventListener("online",e),window.removeEventListener("offline",e)}}));var u=(0,f.useMemo)((function(){return!c}),[c]);return(0,r.jsxs)(U.Z,{children:[(0,r.jsx)("div",{className:"jsx-683598471 "+((0,S.Z)("logs-wrapper","build",{"auto-height":i,embedded:a})||""),children:(0,r.jsx)("div",{className:"jsx-683598471 logs",children:!u&&t&&t.length?(0,r.jsxs)("table",{className:"jsx-683598471 logs-table",children:[t.length>1999?(0,r.jsx)(ne,{text:"Warning: You're seeing the last 2,000 lines of logs. Any lines before that were automatically truncated.",lite:a,embedded:a,noTimestamp:!0,margin:!0,warning:!0,isBuild:!0},"truncated-notification"):null,t.slice(-1999).map((function(e){var t,n;return"deployment-state"===e.type?null:e.text&&e.text.length>0&&"\n"!==e.text&&("build"===(null===(t=e.info)||void 0===t?void 0:t.type)||"v1logs"===(null===(n=e.info)||void 0===n?void 0:n.type))?(0,f.createElement)(ne,se(se({},e),{},{key:e.id,lite:a,embedded:a,isBuild:!0})):null}))]}):n||u?(0,r.jsxs)(U.Z,{center:!0,style:{marginTop:40},children:[(0,r.jsx)(re.Z,{size:28}),(0,r.jsx)(F.L,{}),(0,r.jsx)(K.ZP,{small:!0,children:"Waiting for connection\u2026"})]}):(0,r.jsxs)(U.Z,{className:"waiting",children:[(0,r.jsx)(K.ZP,{small:!0,children:o?null:s?(0,r.jsxs)(U.Z,{center:!0,style:{marginTop:40},children:[(0,r.jsx)(re.Z,{size:28}),(0,r.jsx)(F.L,{}),(0,r.jsx)(K.ZP,{small:!0,children:"Queued\u2026"})]}):a?(0,r.jsx)(ie.u3,{}):"No logs to show"}),o?(0,r.jsx)(ie.u3,{}):null]})})}),(0,r.jsx)(X.default,{id:"683598471",children:[".logs-wrapper.jsx-683598471{border-bottom:1px solid var(--accents-2);padding:calc(var(--geist-gap) * 1.2) 0;padding-top:0;padding-bottom:0;}",".logs-wrapper.jsx-683598471:not(.embedded){background:var(--accents-1);min-height:80vh;}",".logs-wrapper.auto-height.jsx-683598471{height:auto;min-height:80vh;}",".logs-wrapper.build.jsx-683598471{padding-top:calc(var(--geist-gap) * 1.2);padding-bottom:calc(var(--geist-gap) * 1.2);max-width:100vw;overflow-x:hidden;}",".logs-wrapper.jsx-683598471 .logs-table.jsx-683598471{font-family:var(--font-mono);margin-left:-2px;width:calc(100% + 4px);font-size:14px;line-height:16px;}",".logs-wrapper.embedded.jsx-683598471{padding:var(--geist-gap) 0;border-bottom:0;}",".logs.jsx-683598471{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".error.jsx-683598471{margin-bottom:10px;font-size:12px;text-align:center;color:var(--geist-error);padding-top:15px;padding-bottom:15px;}",".traffic-logs-warning.jsx-683598471{position:fixed;left:0;right:0;margin-top:-10px;background:rgba(0,0,0,0.8);padding:5px;text-transform:uppercase;font-size:12px;color:#fff;font-weight:bold;text-align:center;}",".controls-right .button.icon-color{height:32px;text-transform:unset;min-width:170px;}",".controls-right .button.icon-color .icon{left:18px;}",".controls-right .button .text{font-size:12px;line-height:1;right:-9px;}",".controls-right .button.disabled .text{color:var(--accents-2);}",".controls-left .select{width:250px;max-width:250px;}",".waiting{width:var(--geist-page-width-with-margin);margin:auto;padding:var(--geist-gap);padding-top:0;}",".auto-height.jsx-683598471 .waiting{padding-top:0;}",".functions-building.jsx-683598471{border-bottom:0;}","button.jsx-683598471{border:0;background:0;padding:0;font-size:14px;line-height:41px;cursor:pointer;outline:0;width:100%;height:100%;text-align:left;}","@media (max-width:832px){.controls-left .select{width:170px;max-width:170px;min-width:170px;}}","@media (max-width:1040px){.logs{padding:0;overflow-x:hidden;}}","@media (max-width:600px){.controls-left{width:240px;-webkit-flex:initial !important;-ms-flex:initial !important;flex:initial !important;}.embedded .logs{padding:0;}}"]})]})};function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var i=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,p.Z)(this,n)}}function ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"replace",n=b.default.pathname+(0,I.c)(e),r=(0,m.parse)(b.default.asPath),i=r.pathname+(0,I.c)(e);b.default[t](n,i,{shallow:!0})}var pe=new Map,he=function(e){(0,u.Z)(n,e);var t=de(n);function n(e){var r;return(0,l.Z)(this,n),r=t.call(this,e),(0,g.Z)((0,d.Z)(r),"fetchLogs",function(){var e=(0,a.Z)(s().mark((function e(t){var n,i,o,a,l,c,d,u,p,h,g,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.name,o=t.since,a=t.until,l=t.limit,c=void 0===l?40:l,d=(0,N.LP)(),u=r.props.deployment,p=b.default.query,"all"===(i=i||r.state.name)&&(i=""),h={limit:c,q:p.query||"",name:i,since:o,until:a,direction:a?"backward":"forward",teamId:null===(n=u.team)||void 0===n?void 0:n.id},g="".concat((0,B.ct)(u.id)).concat((0,I.c)(h)),!pe[g]){e.next=12;break}f=pe[g],e.next=15;break;case 12:return e.next=14,(0,W.Z)(g,d,{throwOnHTTPError:!0});case 14:f=pe[g]=e.sent;case 15:return e.abrupt("return",f?f.map(ge).filter(me()).filter((function(e){return e})).sort(fe):[]);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,g.Z)((0,d.Z)(r),"fetchInitialLogs",(function(){r.endReached=!1;var e=r.state,t=e.logsType,n=e.name,i="build"===t;r.setState({initialLoad:!0,loading:!1,fetching:!0},(0,a.Z)(s().mark((function e(){var o,a,l,c,d,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o="CANCELED"===r.props.deployment.readyState,a=o?r.props.deployment.canceledAt:Date.now(),!i){e.next=8;break}return e.next=5,r.fetchBuildLogs({until:a});case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,r.fetchLogs(ce(ce({},r.props.initialRequestData),{},{until:a}));case 10:e.t0=e.sent;case 11:l=e.t0,o&&(c=r.props.deployment,d=r.createCanceledLogMessage(c),l.push(d),r.addLogs(l)),i||r.onScroll(),n!==r.state.name||t!==r.state.logsType||!r.state.lambdas&&"build"===r.state.logsType||(u=o?function(){}:r.initialize,l=l.sort(fe),r.setState({logs:l,initialLoad:!1,fetching:!1},u),i&&!r.props.embedded||r.scrollBottom());case 15:case"end":return e.stop()}}),e)}))))})),(0,g.Z)((0,d.Z)(r),"handleNameChange",(function(e){var t="build"===r.state.logsType;r.setState({name:e},t?null:r.fetchInitialLogs),ue(e?{name:e}:{name:""})})),(0,g.Z)((0,d.Z)(r),"fetchBuildLogs",function(){var e=(0,a.Z)(s().mark((function e(t){var n,o,a,l,c,d;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.until,e.t0=r.state.lambdas,e.t0){e.next=6;break}return e.next=5,r.fetchLambdas();case 5:e.t0=e.sent;case 6:return o=e.t0,a=b.default.query,l=o?o.filter((function(e){var t=e.id;return null===t||void 0===t?void 0:t.startsWith("bld_")})):[],a.name&&a.name.startsWith("bld_")?l=l.filter((function(e){return e.id===a.name})):l.push({id:"downloading"}),e.next=12,Promise.all(l.map((function(e){return r.fetchLogs({name:e.id,until:n,limit:-1})})));case 12:return c=e.sent,d=c.reduce((function(e,t){return[].concat((0,i.Z)(e),(0,i.Z)(t))}),[]),e.abrupt("return",d);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,g.Z)((0,d.Z)(r),"copyToClipboard",(function(e){var t=e.map((function(e){return"".concat((0,y.Z)(new Date(e.created),"HH:mm:ss.SSS"),"  \t").concat(e.text)})).join("\n");P()(t||""),r.toasts&&r.toasts.success("Copied to clipboard!")})),r.state=ce(ce({},r.propsToState(e)),{},{initialLoad:e.initialLoad,now:Date.now(),showDebugLogs:!1,fetching:!1}),r.onScroll=be(r.onScroll.bind((0,d.Z)(r))),r.onScrollEmbedded=be(r.onScrollEmbedded.bind((0,d.Z)(r))),r.onResize=be(r.onResize.bind((0,d.Z)(r))),r.copyToClipboard=r.copyToClipboard.bind((0,d.Z)(r)),r.scrollBottom=r.scrollBottom.bind((0,d.Z)(r)),r.scrollTop=r.scrollTop.bind((0,d.Z)(r)),r.errorOld=!1,r.updateTimer=null,r.newLogsTimeout=null,r.logsNode=null,r.isScrolledBottom=!0,r.rev=0,r.missingId=0,r.logBuffer=[],r.disableEmbeddedAutoScroll=!1,r.embeddedContainerRef=f.createRef(),r}return(0,c.Z)(n,[{key:"componentDidMount",value:function(){var e=(0,a.Z)(s().mark((function e(){var t,n,r=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("runtime"!==(t=new URLSearchParams(window.location.search)).get("tab")){e.next=4;break}return b.default.replace("/[teamSlug]/[project]/[id]/functions",(0,m.parse)(b.default.asPath).pathname.replace(/\/?$/,"/functions")),e.abrupt("return");case 4:window.addEventListener("resize",this.onResize),this.fetchInitialLogs(),this.updateTimer=setInterval((function(){r.setState({now:Date.now()})}),5e3),"CANCELED"!==this.props.deployment.readyState&&(this.lastLogStreamKeepaliveAt=Date.now(),this.setupLogKeepaliveWatcher()),n=t.has("tab")?t.get("tab"):this.state?this.state.logsType:"build","LAMBDAS"===this.props.deployment.type&&this.setState({logsType:n},this.fetchInitialLogs);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){if(this.isScrolledBottom&&this.state.logs!==t.logs&&("build"!==this.state.logsType||this.props.embedded)&&this.scrollBottom(),e.deployment.readyState!==this.props.deployment.readyState&&"CANCELED"===this.props.deployment.readyState){this.closeLogsStream(),this.logKeepaliveWatcherHandler&&(clearInterval(this.logKeepaliveWatcherHandler),this.logKeepaliveWatcherHandler=null);var n=this.props.deployment,r=this.createCanceledLogMessage(n);this.addLogs([r])}}},{key:"componentWillUnmount",value:function(){this.closeLogsStream(),this.updateTimer&&(clearInterval(this.updateTimer),this.updateTimer=null),this.newLogsTimeout&&(clearTimeout(this.newLogsTimeout),this.newLogsTimeout=null),this.logKeepaliveWatcherHandler&&(clearInterval(this.logKeepaliveWatcherHandler),this.logKeepaliveWatcherHandler=null),window.removeEventListener("resize",this.onResize)}},{key:"propsToState",value:function(e){var t=e.logs,n=e.now,r=e.router,i=e.deployment,o=r.query.query||"",s=this.getKeywordsRegExp(this.parseQuery(o)),a=r.query.name||"";"all"===a&&(a="");var l=i?"LAMBDAS"!==i.type?"all":"build":null;return{logs:(t||[]).map(ge),now:n,name:a,query:o,logsType:this.state?this.state.logsType:l,keywordsRegExp:s}}},{key:"setupLogKeepaliveWatcher",value:function(){var e=this;this.logKeepaliveWatcherHandler=setInterval((function(){Date.now()-e.lastLogStreamKeepaliveAt>3e4&&(e.lastLogStreamKeepaliveAt=Date.now(),e.initialize())}),1e3)}},{key:"createCanceledLogMessage",value:function(e){var t=e.id,n=e.canceledAt;return{id:t,type:"stdout",text:"Deployment has been canceled",date:new Date(n),created:new Date(n),info:{type:"build"}}}},{key:"initialize",value:function(){var e,t=this,n=this.props.deployment,r=this.state,i=r.logs,o=r.query,s=r.name,a=i?i.filter((function(e){var t=e.type;return"stdout"===t||"stderr"===t})):[],l=0===a.length?Date.now()-6e4:a[a.length-1].date.getTime()-1,c=(0,N.LP)(),d={follow:"1",q:o,name:s,since:l,direction:"forward",teamId:null===(e=n.team)||void 0===e?void 0:e.id},u="".concat((0,B.ct)(n.id)).concat((0,I.c)(d));this.closeLogsStream();var p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).headers||{};t&&(n.Authorization="bearer ".concat(t));var r="/"===e[0]?z+e:e,i=A(A({},(0,m.parse)(r)),{},{headers:n});return T().get(i)}(u,c);this.logsStreamRequest=p,p.on("response",(function(e){t.logsStream=_()(e,O.parse()),t.setState({error:null}),t.logsStream.on("data",(function(e){0!==Object.keys(e).length?(t.logBuffer.push(e),t.newLogsTimeout||(t.newLogsTimeout=setTimeout((function(){t.newLogsTimeout=null;var e=t.logBuffer;t.logBuffer=[],t.addLogs(e)}),0))):t.lastLogStreamKeepaliveAt=Date.now()})),t.logsStream.on("error",(function(e){console.error(e),t.setState({error:new Error("Connection Error")})}))})),p.on("error",(function(e){console.error(e),t.setState({error:new Error("Connection Error")})}))}},{key:"addLogs",value:function(e){var t=this;return(e||[]).filter((function(e){return"deployment-state"===e.type})).forEach((function(e){var n,r;return null===(n=(r=t.props).onDeploymentStateEvent)||void 0===n?void 0:n.call(r,e.info.readyState)})),new Promise((function(n){t.setState((function(t){return{logs:t.logs.concat(e.map(ge)).filter(me()).sort(fe)}}),n)}))}},{key:"closeLogsStream",value:function(){this.logsStreamRequest&&this.logsStreamRequest.destroy()}},{key:"setLoadingOldState",value:function(e,t){var n=Boolean(e&&!t);this.setState({loadingOld:n,loadingOldError:t})}},{key:"scrollBottom",value:function(){this.props.embedded&&this.embeddedContainerRef.current&&!this.disableEmbeddedAutoScroll?this.embeddedContainerRef.current.scrollTop=this.embeddedContainerRef.current.scrollHeight:this.props.disableAutoScroll||"build"!==this.state.logsType?this.logsNode&&!this.clickedInside&&(this.logsNode.scrollTop=this.logsNode.scrollHeight):(0,M.Z)({top:document.body.clientHeight})}},{key:"scrollTop",value:function(){"build"!==this.state.logsType?this.logsNode&&!this.clickedInside&&(this.logsNode.scrollTop=0,this.state.logs.length>0&&this.shouldLoadOld()&&this.loadNextOld()):(0,M.Z)({top:0})}},{key:"onScroll",value:function(){var e=this.logsNode;if(e){this.isScrolledBottom=e.scrollHeight-e.scrollTop-e.offsetHeight<50;var t=this.state,n=t.logs;"build"!==t.logsType&&n.length>0&&this.shouldLoadOld()&&this.loadNextOld()}}},{key:"onScrollEmbedded",value:function(){if(this.embeddedContainerRef.current){var e=this.embeddedContainerRef.current;this.disableEmbeddedAutoScroll=e.scrollHeight-e.scrollTop-e.offsetHeight>50}}},{key:"onResize",value:function(){"build"!==this.state.logsType&&this.isScrolledBottom&&this.scrollBottom()}},{key:"shouldLoadOld",value:function(){return!this.endReached&&!this.state.loadingOld&&!this.errorOld&&this.logsNode&&this.logsNode.scrollTop<50}},{key:"loadNextOld",value:function(){var e=(0,a.Z)(s().mark((function e(){var t,n,r,i,o,a=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.rev,n=this.logsNode.scrollHeight,r="build"===this.state.logsType,this.setLoadingOldState(!0),i=function(){if(t!==a.rev){var e=new Error("Aborted");throw e.canceled=!0,e}},e.prev=5,e.next=8,x()((function(e){try{i()}catch(n){return e(n)}var t=a.state.logs.find((function(e){return!e.dataType})).date.getTime();return r?a.fetchBuildLogs({until:t-1}):a.doLoad({until:t-1})}),{retries:4});case 8:return o=e.sent,i(),this.lastLogs&&this.lastLogs.length>0&&D()(this.lastLogs,o)&&(this.endReached=!0),this.lastLogs=o,this.setLoadingOldState(!1),e.next=15,this.addLogs(o);case 15:this.logsNode.scrollTop=this.logsNode.scrollHeight-n-50,i(),e.next=27;break;case 19:if(e.prev=19,e.t0=e.catch(5),!e.t0.canceled){e.next=24;break}return this.setLoadingOldState(!1),e.abrupt("return");case 24:console.error(e.t0.stack),this.errorOld=!0,this.setLoadingOldState(!0,!0);case 27:case"end":return e.stop()}}),e,this,[[5,19]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadMissing",value:function(){var e=(0,a.Z)(s().mark((function e(t,n){var r,o,a,l,c,d,u=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.since,o=n.until,a=this.rev,l=function(){if(a!==u.rev){var e=new Error("Aborted");throw e.canceled=!0,e}},e.prev=3,e.next=6,x()((function(e){try{l()}catch(t){return e(t)}return u.doLoad({since:r,until:o})}),{retries:4});case 6:return c=e.sent,l(),d=c.length,e.next=11,new Promise((function(e){u.setState((function(e){var n=e.logs.findIndex((function(e){return"missing"===e.dataType&&e.id===t}));return n<0?{}:{logs:[].concat((0,i.Z)(e.logs.slice(0,n)),(0,i.Z)(d?[ce(ce({},e.logs[n]),{},{loading:!1})]:[]),(0,i.Z)(c),(0,i.Z)(e.logs.slice(n+1))).filter(me())}}),e)}));case 11:e.next=18;break;case 13:if(e.prev=13,e.t0=e.catch(3),!e.t0.canceled){e.next=17;break}return e.abrupt("return");case 17:console.error(e.t0.stack);case 18:case"end":return e.stop()}}),e,this,[[3,13]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"doLoad",value:function(){var e=(0,a.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.since,r=t.until,e.next=3,this.fetchLogs({since:n,until:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseQuery",value:function(e){for(var t,n=[],r=/"([^"]+)"|(\S+)/g;null!=(t=r.exec(e));)n.push(t[1]||t[2]);return n}},{key:"getKeywordsRegExp",value:function(e){if(e.length){var t=e.map((function(e){return e!==e.toLowerCase()?w()(e):e.split("").map((function(e){var t=e.toLowerCase(),n=e.toUpperCase();return t===n?w()(e):"[".concat(w()(t+n),"]")})).join("")}));return new RegExp("("+t.join("|")+")","g")}}},{key:"isOwner",value:function(){return this.props.user&&this.props.deployment.creator.uid===this.props.user.uid}},{key:"fetchLambdas",value:function(){var e=(0,a.Z)(s().mark((function e(){var t,n,r,i,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.deployment,e.prev=1,!this.fetchingLambdas){e.next=4;break}return e.abrupt("return");case 4:return this.fetchingLambdas=!0,r="".concat((0,B.PP)("v7"),"/").concat(t.id).concat((0,I.c)({teamId:null===(n=t.team)||void 0===n?void 0:n.id})),e.next=8,(0,W.Z)(r,(0,N.LP)());case 8:return i=e.sent,o=i.lambdas,this.setState({lambdas:o}),e.abrupt("return",o);case 14:e.prev=14,e.t0=e.catch(1),console.error(e.t0.stack);case 17:return e.prev=17,this.fetchingLambdas=!1,e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[1,14,17,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"filterLogs",value:function(){var e=this,t=this.props.query,n=[];return n="all"===this.state.logsType?"all"===this.state.logsType||t.name?this.state.logs:[]:t.name&&"all"!==t.name?this.state.logs?this.state.logs.filter((function(n){return n.info.type===e.state.logsType&&n.info.name===t.name})):[]:this.state.logs?this.state.logs.filter((function(t){return t.info.type===e.state.logsType})):[],this.state.showDebugLogs||(n=n.filter((function(e){return e.text&&!e.text.startsWith("[now-builder-debug]")}))),n.map((function(e){var t=e.text.toLowerCase(),n=/(^| |\[|eval|internal|range|reference|syntax|type|uri)err(or|ors)?( |:)/i.test(t)||t.startsWith("    at ")||t.includes("command not found")||t.includes("module not found")||t.includes("failed to compile")||t.includes("cannot open shared object file")||t.includes("please contact support@zeit.co")||t.includes("please contact support@vercel.com"),r=t.includes("warn")&&!n;return ce(ce({},e),{},{warning:r,error:n})}))}},{key:"render",value:function(){var e,t,n,i=this,o=this.filterLogs(this.state.logsType);return this.props.embedded?(0,r.jsx)("div",{ref:this.embeddedContainerRef,className:(0,S.Z)(G().embeddedWrapper,(0,g.Z)({},G().cancelled,"CANCELED"===(null===(t=this.props.deployment)||void 0===t?void 0:t.readyState))),onScroll:this.onScrollEmbedded,children:(0,r.jsx)(ae,{isBuildLoading:this.state.initialLoad&&this.state.fetching,deploymentQueued:"QUEUED"===(null===(n=this.props.deployment)||void 0===n?void 0:n.readyState),logs:o,embedded:!0})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(U.Z,{row:!0,className:G()["requests-header"],children:(0,r.jsxs)(U.Z,{row:!0,vcenter:!0,style:{maxWidth:"var(--geist-page-width-with-margin)",margin:"auto",padding:"0 var(--geist-gap)",justifyContent:"space-between"},children:[(0,r.jsx)(K.ZP,{h5:!0,noMargin:!0,style:{margin:"16px 0"},id:"logs",children:"Build Logs"}),(0,r.jsx)(Q.Z,{iconNoColorOverride:!0,icon:(0,r.jsx)(q.Z,{size:18}),iconOffset:14,onClick:function(){return i.copyToClipboard(o)},type:"secondary",width:170,iconPush:!0,medium:!0,disabled:!!this.state.initialLoad,children:"Copy to Clipboard"})]})}),(0,r.jsx)(ae,{isBuildLoading:this.state.initialLoad&&this.state.fetching,deploymentQueued:"QUEUED"===(null===(e=this.props.deployment)||void 0===e?void 0:e.readyState),logs:o,autoHeight:!0}),(0,r.jsx)(F.Z,{}),(0,r.jsxs)(U.Z,{direction:["column","row"],vcenter:!0,wrapper:!0,className:"end-of-list",children:[(0,r.jsx)(K.ZP,{preset:"body-2",style:{color:"var(--accents-5)"},children:"You have reached the end of the logs."}),(0,r.jsx)(F.Z,{expand:!0,className:"geist-hide-on-mobile"}),(0,r.jsx)(Q.Z,{type:"secondary",icon:(0,r.jsx)(H.Z,{size:20}),medium:!0,width:110,iconOffset:14,textOffset:20,iconNoColorOverride:!0,onClick:Y.Z,children:"Scroll Up"})]}),(0,r.jsx)(F.Z,{}),(0,r.jsx)(J.ZP,{dark:!0,ref:function(e){i.toasts=e}}),(0,r.jsx)("style",{children:"\n            @media (max-width: 414px) {\n              .end-of-list {\n                align-items: flex-start;\n              }\n              .end-of-list p {\n                margin-top: 0;\n              }\n            }\n            @media (min-width: 600px) {\n              .end-of-list {\n                align-items: center;\n              }\n            }\n          "})]})}}]),n}(f.PureComponent);function ge(e){return ce(ce({},e),{},{date:new Date(e.date),created:new Date(e.created)})}function fe(e,t){return e.dataType||t.dataType?-1:e.created.getTime()-t.created.getTime()||e.serial.localeCompare(t.serial)}function me(){var e=new Set;return function(t){return!!t.id&&(!!t.dataType||!e.has(t.id)&&(e.add(t.id),!0))}}function be(e){var t=!1;return function(){t||(t=!0,window.requestAnimationFrame((function(){e(),t=!1})))}}var ve=(0,J.CP)(he)},71694:function(e,t,n){"use strict";var r=n(67105),i=n(24246),o=n(98502),s=n(27378),a=n(87858),l=n(58093);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){var t=e.width,n=void 0===t?14:t,r=e.height,s=void 0===r?14:r,a=e.color,c=void 0===a?"#0052CC":a,u=e.border,p=(0,o.Z)(e,["width","height","color","border"]),h="bitbucket-".concat((0,l.Z)());return(0,i.jsxs)("svg",d(d({width:n,height:s,viewBox:"-2 -2 65 59"},p),{},{children:[(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{x1:"104.953%",y1:"21.921%",x2:"46.569%",y2:"75.234%",id:h,children:[(0,i.jsx)("stop",{stopColor:c,stopOpacity:".4",offset:"7%"}),(0,i.jsx)("stop",{stopColor:c,offset:"100%"})]})}),u?(0,i.jsx)("path",{stroke:"white",strokeWidth:4,d:"M59.696 18.86h-18.77l-3.15 18.39h-13L9.426 55.47a2.71 2.71 0 001.75.66h40.74a2 2 0 002-1.68l5.78-35.59z M2 .82a2 2 0 00-2 2.32l8.49 51.54a2.7 2.7 0 00.91 1.61 2.71 2.71 0 001.75.66l15.76-18.88H24.7l-3.47-18.39h38.44l2.7-16.53a2 2 0 00-2-2.32L2 .82z"}):null,(0,i.jsx)("path",{d:"M59.696 18.86h-18.77l-3.15 18.39h-13L9.426 55.47a2.71 2.71 0 001.75.66h40.74a2 2 0 002-1.68l5.78-35.59z",fill:"url(#".concat(h,")"),fillRule:"nonzero",transform:"translate(-.026 .82)"}),(0,i.jsx)("path",{d:"M2 .82a2 2 0 00-2 2.32l8.49 51.54a2.7 2.7 0 00.91 1.61 2.71 2.71 0 001.75.66l15.76-18.88H24.7l-3.47-18.39h38.44l2.7-16.53a2 2 0 00-2-2.32L2 .82z",fill:c,fillRule:"nonzero"})]}))};t.Z=(0,a.l)((0,s.memo)(u),"bitbucket")},97127:function(e,t,n){"use strict";var r=n(67105),i=n(24246),o=n(98502),s=n(27378),a=n(87858);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e){var t=e.monochrome,n=e.height,r=e.width,s=e.color,a=e.label,l=(0,o.Z)(e,["monochrome","height","width","color","label"]);return(0,i.jsxs)("svg",c(c({width:r||14,height:n||14,viewBox:"0 0 24 22","aria-label":a||"gitlab"},l),{},{children:[(0,i.jsx)("path",{d:"M1.279 8.29L.044 12.294c-.117.367 0 .78.325 1.014l11.323 8.23-.009-.012-.03-.039L1.279 8.29zM22.992 13.308a.905.905 0 00.325-1.014L22.085 8.29 11.693 21.52l11.299-8.212z",fill:t?"currentColor":s||"#FCA326"}),(0,i.jsx)("path",{d:"M1.279 8.29l10.374 13.197.03.039.01-.006L22.085 8.29H1.28z",fill:t?"currentColor":s||"#E24329",opacity:t&&"0.4"}),(0,i.jsx)("path",{d:"M15.982 8.29l-4.299 13.236-.004.011.014-.017L22.085 8.29h-6.103zM7.376 8.29H1.279l10.374 13.197L7.376 8.29z",fill:t?"currentColor":s||"#FC6D26",opacity:t&&"0.6"}),(0,i.jsx)("path",{d:"M18.582.308l-2.6 7.982h6.103L19.48.308c-.133-.41-.764-.41-.897 0zM1.279 8.29L3.88.308c.133-.41.764-.41.897 0l2.6 7.982H1.279z",fill:t?"currentColor":s||"#E24329",opacity:t&&"0.4"})]}))};t.Z=(0,a.l)((0,s.memo)(d),"gitlab")},82714:function(e,t,n){"use strict";n.d(t,{ZP:function(){return L},St:function(){return k},DK:function(){return _},pN:function(){return S},NE:function(){return Z}});var r=n(24246),i=n(27378),o=n(98502),s=n(67105),a=n(79894),l=n(84415);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){return e&&"object"===typeof e&&"a"===e.type},p=function(e){var t=e.href,n=e.as,i=e.children,s=e.prefetch,l=void 0===s||s,c=(0,o.Z)(e,["href","as","children","prefetch"]);return(0,r.jsx)(a.default,{prefetch:!!l&&void 0,href:t,as:n,children:(0,r.jsx)("a",d(d({},c),{},{children:i}))})},h=function(e){var t=e.href,n=e.onClick,o=e.children;return u(o)?i.cloneElement(o,{href:t}):(0,r.jsx)("a",{href:t,onClick:n,children:o})},g=function(e){var t=e.children,n=e.target,s=void 0===n?"_blank":n,a=(0,o.Z)(e,["children","target"]);return u(t)?i.cloneElement(t,a):(0,r.jsx)("a",d(d({target:s,rel:"noopener"},a),{},{children:t}))},f=function(e){return(0,l.Z)(e.href)?(0,r.jsx)(p,d({},e)):e.href.startsWith("#")?(0,r.jsx)(h,d({},e)):(0,r.jsx)(g,d({},e))},m=n(45093),b=n(97127),v=n(71694),x=n(28518),y=n(6882),j=n(59768),w=n(48298),O=n(36776);function Z(e){return!!e&&(e.githubDeployment||e.gitlabDeployment||e.bitbucketDeployment)}function _(e){return{logo:(0,r.jsx)(m.Z,{}),branchUrl:"https://github.com/".concat(e.githubOrg,"/").concat(e.githubRepo,"/tree/").concat(e.githubCommitRef),branchName:e.githubCommitRef,commitUrl:"https://github.com/".concat(e.githubOrg,"/").concat(e.githubRepo,"/commit/").concat(e.githubCommitSha),commitMessage:e.githubCommitMessage,sha:e.githubCommitSha}}function S(e){return{logo:(0,r.jsx)(b.Z,{}),branchUrl:"https://gitlab.com/".concat(e.gitlabProjectPath,"/tree/").concat(e.gitlabCommitRef),branchName:e.gitlabCommitRef,commitUrl:"https://gitlab.com/".concat(e.gitlabProjectPath,"/commit/").concat(e.gitlabCommitSha),commitMessage:e.gitlabCommitMessage,sha:e.gitlabCommitSha}}function k(e){return{logo:(0,r.jsx)(v.Z,{}),branchUrl:"https://bitbucket.org/".concat(e.bitbucketRepoOwner,"/").concat(e.bitbucketRepoSlug,"/branch/").concat(e.bitbucketCommitRef),branchName:e.bitbucketCommitRef,sha:e.bitbucketCommitSha,commitUrl:"https://bitbucket.org/".concat(e.bitbucketRepoOwner,"/").concat(e.bitbucketRepoSlug,"/commits/").concat(e.bitbucketCommitSha),commitMessage:e.bitbucketCommitMessage}}var P=function(e){var t=e.metadata;if(!t)return(0,r.jsx)(x.Z,{title:"Branch",content:(0,r.jsx)(y.ZP,{span:!0,children:(0,r.jsx)(O.Z,{})})});var n,i=t.meta;if(!Z(i))return(0,r.jsx)(x.Z,{title:"Branch",content:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("span",{className:"geist-inline-center",children:[(0,r.jsx)(w.Z,{fill:!0,color:"var(--geist-foreground)",size:16,style:{marginRight:5}}),(0,r.jsx)(y.ZP,{span:!0,children:"No repository"})]}),(0,r.jsx)("br",{}),(0,r.jsx)(y.ZP,{type:"secondary",span:!0,style:{fontWeight:400},children:(0,r.jsx)(j.Z,{href:"/docs/git",underline:!0,children:"Learn how to deploy via Git"})})]})});if(i.githubDeployment?n=_(i):i.gitlabDeployment?n=S(i):i.bitbucketDeployment&&(n=k(i)),!n)return null;var o=n,s=o.logo,a=o.branchName,l=o.branchUrl,c=o.sha,d=o.commitUrl,u=o.commitMessage;return(0,r.jsx)(x.Z,{title:"Branch",content:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f,{href:l,className:"geist-reset",children:(0,r.jsxs)(y.ZP,{span:!0,className:"geist-ellipsis",Component:"span",weight:600,style:{display:"block"},children:[(0,r.jsx)("span",{style:{verticalAlign:-2,marginRight:2},children:s})," ",a]})}),(0,r.jsxs)(f,{href:d,className:"geist-reset geist-ellipsis",children:[(0,r.jsx)(y.ZP,{span:!0,Component:"code",type:"secondary",children:c.substr(0,7)}),(0,r.jsxs)(y.ZP,{span:!0,Component:"span",type:"secondary",children:[" \u2014 ",u]})]})]})})},L=i.memo(P)},28518:function(e,t,n){"use strict";var r=n(24246),i=n(67105),o=n(27378),s=n(38944),a=n(21985),l=n(61918),c=n(81970),d=n.n(c);function u(e){var t,n=e.title,o=e.content,c=e.tooltip,u=e.right,p=e.className,h=e.ellipsis;return(0,r.jsxs)("dl",{className:(0,s.Z)(d().description,(t={},(0,i.Z)(t,d().right,u),(0,i.Z)(t,d().ellipsis,h),t),p),children:[(0,r.jsxs)("dt",{"data-geist-description-title":"",children:[n,c?(0,r.jsx)("span",{className:d().icon,children:(0,r.jsx)(l.Z,{text:c,children:(0,r.jsx)(a.Z,{})})}):null]}),(0,r.jsx)("dd",{"data-geist-description-content":"",children:o})]})}t.Z=o.memo(u)},35342:function(e,t,n){"use strict";n.d(t,{Z:function(){return l},X:function(){return c}});var r=n(67105),i=n(90411),o=n.n(i);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var a=!1;function l(e){if(!a){try{o().polyfill()}catch(t){return void console.error("smoothscroll polyfill failed",t)}a=!0}try{window.scroll(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({behavior:"smooth"},e))}catch(t){console.error("smoothscroll polyfill failed",t)}}var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=document.querySelector(e);n&&l({top:n.offsetTop+t})}},24231:function(e,t,n){"use strict";n.d(t,{F6:function(){return p},B_:function(){return h},Rd:function(){return g},vf:function(){return f}});var r=n(27378),i=n(57824),o=n.n(i),s=44e3,a="Just now",l=" ago",c=o()("1s"),d=o()("1m"),u=o()("1h");function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.suffix,r=void 0===n?l:n,i=t.justNowThreshold,p=void 0===i?s:i,h=t.justNowLabel,g=void 0===h?a:h,f=t.includeSeconds;if(!e)return"";var m=Math.max(e,1e3);if(m<p)return g;if(f){var b=Math.round(m/c)*c,v=b%d,x=b-v,y=v>0&&v<d&&x<u?o()(v):"",j=x>0?o()(x):"",w=y&&j?" ":"";return"".concat(j).concat(w).concat(y).concat(r)}return"".concat(o()(m)).concat(r)}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.includeSeconds;return p(e,{suffix:"",justNowThreshold:0,includeSeconds:n})}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.suffix,i=void 0===n?l:n,o=t.justNowThreshold,c=void 0===o?s:o,d=t.justNowLabel,u=void 0===d?a:d,h=t.includeSeconds,g=(0,r.useReducer)(Date.now,null,Date.now),f=g[0],m=g[1],b=(0,r.useState)(null),v=b[0],x=b[1];return(0,r.useEffect)((function(){if(e){var t=Math.max(Date.now()-e,0);x(!h&&t>6e4?6e4:t<c?Math.max(c-t,1e3):1e3)}else x(null)}),[f,e,c,h]),(0,r.useEffect)((function(){if(v){var e=setInterval(m,v);return function(){return clearInterval(e)}}}),[v]),e?p(f-e,{suffix:i,justNowLabel:u,justNowThreshold:c,includeSeconds:h}):""}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.includeSeconds;return g(e,{suffix:"",justNowThreshold:0,includeSeconds:n})}},68855:function(e,t,n){"use strict";n.d(t,{P:function(){return j}});var r=n(55395),i=n(88742),o=n.n(i),s=n(40505),a=n(67105),l=n(24246),c=n(83101),d=n(76982),u=n(9968),p=n(39183),h=n(3184),g=n(27378),f=n(86677),m=n(37875),b=n(50808);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var i=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,p.Z)(this,n)}}function j(e){var t=function(t){(0,u.Z)(i,t);var n=y(i);function i(){var e;(0,c.Z)(this,i);for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return e=n.call.apply(n,[this].concat(o)),(0,a.Z)((0,r.Z)(e),"state",{error:null}),e}return(0,d.Z)(i,[{key:"componentDidUpdate",value:function(e){e.router.asPath!==this.props.router.asPath&&this.state.error&&this.setState({error:null})}},{key:"render",value:function(){var t=this.state.error;if(t){var n=t.statusCode||t.status||t.res&&t.res.status;return(0,l.jsx)(m.default,{statusCode:n,err:t,reported:!0})}return(0,l.jsx)(e,x({},this.props))}}],[{key:"getDerivedStateFromError",value:function(e){if(404===e.status&&e.teamSlug&&e.membershipRequestedBy)throw e;var t=e.statusCode||e.status||e.res&&e.res.status;return(0,b.D)(e,{statusCode:t}),{error:e}}}]),i}(g.PureComponent);return t.getInitialProps=e.getInitialProps,t.getLayout=e.getLayout,(0,f.withRouter)(t)}t.Z=function(e){return function(t){(0,u.Z)(r,t);var n=y(r);function r(){return(0,c.Z)(this,r),n.apply(this,arguments)}return(0,d.Z)(r,[{key:"render",value:function(){return this.props.statusCode?(0,l.jsx)(m.default,{statusCode:this.props.statusCode,err:this.props.err,reported:!0}):(0,l.jsx)(e,x({},this.props))}}],[{key:"getInitialProps",value:function(){var t=(0,s.Z)(o().mark((function t(n){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.getInitialProps){t.next=6;break}return t.next=3,e.getInitialProps(n);case 3:t.t1=t.sent,t.next=7;break;case 6:t.t1=null;case 7:if(t.t0=t.t1,t.t0){t.next=10;break}t.t0={};case 10:return(r=t.t0).statusCode&&n.res&&(n.res.statusCode=r.statusCode),t.abrupt("return",r);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),r}(g.Component)}},27383:function(e,t,n){"use strict";n.d(t,{P:function(){return c},W:function(){return d}});var r=n(70053),i=n(93632),o=n(61659),s=n(55888),a=n(97165),l=n(18213);function c(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=n.latestDeployments,d=void 0===c?0:c,u=n.config,p=(0,o.LP)(),h=(0,l.ZP)(),g=h.teamData;return(0,r.ZP)(g&&e?"".concat(s.VE,"/").concat(encodeURIComponent(e)).concat((0,a.c)({teamId:null===(t=g.team)||void 0===t?void 0:t.id,latestDeployments:d})):"",(function(e){return(0,i.Z)(e,p,{throwOnHTTPError:!0})}),u)}function d(e,t){return c(e,{latestDeployments:1,config:t})}c.preload=function(e,t){return"".concat(s.VE,"/").concat(encodeURIComponent(e)).concat((0,a.c)({teamId:t,latestDeployments:0}))}},24196:function(e){e.exports={bold:"ansi_bold__18WqD",italic:"ansi_italic__2iNhR",strikethrough:"ansi_strikethrough__34nwW",underline:"ansi_underline__3UXTA","fg-black":"ansi_fg-black__ZbknF","fg-red":"ansi_fg-red__P9_ju","fg-green":"ansi_fg-green__1G9Sz","fg-yellow":"ansi_fg-yellow__3NGK8","fg-blue":"ansi_fg-blue__SbAbP","fg-magenta":"ansi_fg-magenta__3i7YH","fg-cyan":"ansi_fg-cyan__2DqSo","fg-white":"ansi_fg-white__1rArz","fg-gray":"ansi_fg-gray__3_y72","bg-black":"ansi_bg-black__s4k5Y","bg-red":"ansi_bg-red__1DDfQ","bg-green":"ansi_bg-green__kSvcE","bg-yellow":"ansi_bg-yellow__2p1QZ","bg-blue":"ansi_bg-blue__27B4k","bg-magenta":"ansi_bg-magenta__3halb","bg-cyan":"ansi_bg-cyan__B8iLn","bg-white":"ansi_bg-white__1_cLD","bg-gray":"ansi_bg-gray__3X6R0"}},13788:function(e){e.exports={"log-row":"realtime-log_log-row__3WAwJ",lite:"realtime-log_lite__3wNoy",build:"realtime-log_build__3HJZZ",request:"realtime-log_request__qOWFM","info-content":"realtime-log_info-content__32Z_U",embedded:"realtime-log_embedded__zrvSu",error:"realtime-log_error__21ePH",timestamp:"realtime-log_timestamp__3Y1_M",warning:"realtime-log_warning__wogaB",section:"realtime-log_section__29h-p",main:"realtime-log_main__2CDV6","details-type":"realtime-log_details-type__20nMd",details:"realtime-log_details__2Upai","details-content":"realtime-log_details-content__7D1mJ",td:"realtime-log_td__BOj7Z",noTimestamp:"realtime-log_noTimestamp__24-SY",margin:"realtime-log_margin__3CCt0"}},12951:function(e){e.exports={"requests-header":"build-logs_requests-header__3cH4l",embeddedWrapper:"build-logs_embeddedWrapper__3qWYm",cancelled:"build-logs_cancelled__35zgH"}},81970:function(e){e.exports={description:"description_description__2hdsT",icon:"description_icon__1ySlg",right:"description_right__1mgyA",ellipsis:"description_ellipsis__2sdZ1"}},50471:function(){},71632:function(){},73927:function(){},77702:function(){}}]);